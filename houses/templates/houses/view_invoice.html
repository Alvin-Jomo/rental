{% extends 'base.html' %}

{% block title %}Invoices{% endblock %}

{% block content %}
<h1 style="text-align: center; color: #343a40; font-size: 2.5em; margin-bottom: 20px;">Invoices</h1>
<ul style="list-style-type: none; padding: 0; max-width: 800px; margin: 0 auto;">
    {% for invoice in invoices %}
        <li style="background: #fff; margin: 15px 0; padding: 20px; border-radius: 10px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);">
            <p style="color: #495057; font-size: 1em; margin-bottom: 10px;"><strong>Water Bill:</strong> {{ invoice.water_bill }}</p>
            <p style="color: #495057; font-size: 1em; margin-bottom: 10px;"><strong>Rent:</strong> {{ invoice.rent }}</p>
            <p style="color: #495057; font-size: 1em; margin-bottom: 10px;"><strong>Garbage Fee:</strong> {{ invoice.garbage_fee }}</p>
            <p style="color: #495057; font-size: 1em; margin-bottom: 20px;"><strong>Date Posted:</strong> {{ invoice.date_posted }}</p>

            <!-- Payment Button -->
                       
          
<!-- Pop-Up Confirmation -->
<div id="popup" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); z-index: 999;">
    <div style="background: #fff; margin: 20% auto; padding: 20px; border-radius: 10px; width: 90%; max-width: 400px; text-align: center;">
        <p style="font-size: 1.2em; color: #343a40;">Your payment was received and is waiting for approval by the admin.</p>
        <button onclick="closePopup()" style="background-color: #4CAF50; color: white; padding: 10px 15px; border: none; border-radius: 5px; cursor: pointer; font-size: 1em;">OK</button>
    </div>
</div>

<button><a href="{% url 'submit_payment' %}" style="background: #007BFF; color: #fff; padding: 10px 20px; text-decoration: none; border-radius: 5px; display: inline-block; transition: background 0.3s ease;">View Invoice</a></button>
<p style="font-size: 1em; margin-bottom: 20px;">
    <span style="color: {% if invoice.is_approved %}green{% else %}red{% endif %};">
    {% if invoice.is_approved %}
       Payment Approved
    {% else %}
        Payment Not Approved
    {% endif %}
</span>
</p>

{% endfor %}
{% endblock %}
